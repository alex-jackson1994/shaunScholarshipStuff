#!/usr/bin/python
import sys
from tkinter.filedialog import askopenfilename

if len(sys.argv) > 1:
	filename = sys.argv[1] #take filename as a system argument
else:
	filename = askopenfilename() #pop up box to choose file to load in
	
numLines = sum(1 for line in open(filename))

with open(filename) as infile: #lets python realise a variable called infile exists without loading it into memory!
	j=0
	for line in infile: #loop over each line in the file
		j=j+1
		if(j==numLines):
			print('>split'+str(j), file=open(newFileName, 'a'), end='')
			print(line, file=open(newFileName, 'a'), end='')
		else:
			print(line, file=open(newFileName, 'a'), end='')

		if ">" in line:
			firstSpace=line.find(' ')
			newFileName=line[1:firstSpace]
			#iterate to next text file and write line if it's the header of a sequence
			j=j+1
			print(line, file=open(newFileName, 'a'), end='')
		else:
			#write line to file if it's just a continuing part of the sequence
			print(line, file=open(newFileName, 'a'), end='')
